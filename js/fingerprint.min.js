/*
* fingerprintJS 0.5.4 - Fast browser fingerprint library
* https://github.com/Valve/fingerprintjs
* Copyright (c) 2013 Valentin Vasilyev (valentin.vasilyev@outlook.com)
* Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
*
* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
* AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
* IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
* ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
* DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
* (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
* LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
* ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
* (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
* THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
;(function(a,b,c){if(typeof module!=='undefined'&&module.exports){module.exports=c()}else if(typeof define==='function'&&define.amd){define(c)}else{b[a]=c()}})('Fingerprint',this,function(){'use strict';var k=function(h){var j,nativeMap;j=Array.prototype.forEach;nativeMap=Array.prototype.map;this.each=function(a,b,c){if(a===null){return}if(j&&a.forEach===j){a.forEach(b,c)}else if(a.length===+a.length){for(var i=0,l=a.length;i<l;i++){if(b.call(c,a[i],i,a)==={})return}}else{for(var d in a){if(a.hasOwnProperty(d)){if(b.call(c,a[d],d,a)==={})return}}}};this.map=function(d,e,f){var g=[];if(d==null)return g;if(nativeMap&&d.map===nativeMap)return d.map(e,f);this.each(d,function(a,b,c){g[g.length]=e.call(f,a,b,c)});return g};if(typeof h=='object'){this.hasher=h.hasher;this.screen_resolution=h.screen_resolution;this.screen_orientation=h.screen_orientation;this.canvas=h.canvas;this.ie_activex=h.ie_activex}else if(typeof h=='function'){this.hasher=h}};k.prototype={get:function(){var a=[];a.push(navigator.userAgent);a.push(navigator.language);a.push(screen.colorDepth);if(this.screen_resolution){var b=this.getScreenResolution();if(typeof b!=='undefined'){a.push(this.getScreenResolution().join('x'))}}a.push(new Date().getTimezoneOffset());a.push(this.hasSessionStorage());a.push(this.hasLocalStorage());a.push(!!window.indexedDB);if(document.body){a.push(typeof(document.body.addBehavior))}else{a.push(typeof undefined)}a.push(typeof(window.openDatabase));a.push(navigator.cpuClass);a.push(navigator.platform);a.push(navigator.doNotTrack);a.push(this.getPluginsString());if(this.canvas&&this.isCanvasSupported()){a.push(this.getCanvasFingerprint())}if(this.hasher){return this.hasher(a.join('###'),31)}else{return this.murmurhash3_32_gc(a.join('###'),31)}},murmurhash3_32_gc:function(a,b){var c,bytes,h1,h1b,c1,c2,k1,i;c=a.length&3;bytes=a.length-c;h1=b;c1=0xcc9e2d51;c2=0x1b873593;i=0;while(i<bytes){k1=((a.charCodeAt(i)&0xff))|((a.charCodeAt(++i)&0xff)<<8)|((a.charCodeAt(++i)&0xff)<<16)|((a.charCodeAt(++i)&0xff)<<24);++i;k1=((((k1&0xffff)*c1)+((((k1>>>16)*c1)&0xffff)<<16)))&0xffffffff;k1=(k1<<15)|(k1>>>17);k1=((((k1&0xffff)*c2)+((((k1>>>16)*c2)&0xffff)<<16)))&0xffffffff;h1^=k1;h1=(h1<<13)|(h1>>>19);h1b=((((h1&0xffff)*5)+((((h1>>>16)*5)&0xffff)<<16)))&0xffffffff;h1=(((h1b&0xffff)+0x6b64)+((((h1b>>>16)+0xe654)&0xffff)<<16))}k1=0;switch(c){case 3:k1^=(a.charCodeAt(i+2)&0xff)<<16;case 2:k1^=(a.charCodeAt(i+1)&0xff)<<8;case 1:k1^=(a.charCodeAt(i)&0xff);k1=(((k1&0xffff)*c1)+((((k1>>>16)*c1)&0xffff)<<16))&0xffffffff;k1=(k1<<15)|(k1>>>17);k1=(((k1&0xffff)*c2)+((((k1>>>16)*c2)&0xffff)<<16))&0xffffffff;h1^=k1}h1^=a.length;h1^=h1>>>16;h1=(((h1&0xffff)*0x85ebca6b)+((((h1>>>16)*0x85ebca6b)&0xffff)<<16))&0xffffffff;h1^=h1>>>13;h1=((((h1&0xffff)*0xc2b2ae35)+((((h1>>>16)*0xc2b2ae35)&0xffff)<<16)))&0xffffffff;h1^=h1>>>16;return h1>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return true}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return true}},isCanvasSupported:function(){var a=document.createElement('canvas');return!!(a.getContext&&a.getContext('2d'))},isIE:function(){if(navigator.appName==='Microsoft Internet Explorer'){return true}else if(navigator.appName==='Netscape'&&/Trident/.test(navigator.userAgent)){return true}return false},getPluginsString:function(){if(this.isIE()&&this.ie_activex){return this.getIEPluginsString()}else{return this.getRegularPluginsString()}},getRegularPluginsString:function(){return this.map(navigator.plugins,function(p){var b=this.map(p,function(a){return[a.type,a.suffixes].join('~')}).join(',');return[p.name,p.description,b].join('::')},this).join(';')},getIEPluginsString:function(){if(window.ActiveXObject){var b=['ShockwaveFlash.ShockwaveFlash','AcroPDF.PDF','PDF.PdfCtrl','QuickTime.QuickTime','rmocx.RealPlayer G2 Control','rmocx.RealPlayer G2 Control.1','RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)','RealVideo.RealVideo(tm) ActiveX Control (32-bit)','RealPlayer','SWCtl.SWCtl','WMPlayer.OCX','AgControl.AgControl','Skype.Detection'];return this.map(b,function(a){try{new ActiveXObject(a);return a}catch(e){return null}}).join(';')}else{return""}},getScreenResolution:function(){var a;if(this.screen_orientation){a=(screen.height>screen.width)?[screen.height,screen.width]:[screen.width,screen.height]}else{a=[screen.height,screen.width]}return a},getCanvasFingerprint:function(){var a=document.createElement('canvas');var b=a.getContext('2d');var c='http://valve.github.io';b.textBaseline="top";b.font="14px 'Arial'";b.textBaseline="alphabetic";b.fillStyle="#f60";b.fillRect(125,1,62,20);b.fillStyle="#069";b.fillText(c,2,15);b.fillStyle="rgba(102, 204, 0, 0.7)";b.fillText(c,4,17);return a.toDataURL()}};return k});